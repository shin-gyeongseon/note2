Ray ë¦¬ì†ŒìŠ¤ë³„ ë°°í¬ ìƒíƒœ í™•ì¸ ì •ë¦¬ (KubeRay 1.3+)

âœ… RayCluster

ì •ìƒ (OK)

status.conditions:

HeadPodReady=True

RayClusterProvisioned=True


(ë³´ì¡°) status.state == "ready" â†’ ë¹„ê¶Œì¥


ë¹„ì •ìƒ (NOK)

ReplicaFailure=True

HeadPodReady=Falseê°€ ì§€ì†ë¨

RayClusterSuspending=True â†’ ì¤‘ë‹¨ ì¤‘
RayClusterSuspended=True â†’ ì¤‘ì§€ë¨


í™•ì¸ ëª…ë ¹

kubectl get raycluster <name> -o jsonpath='{.status.conditions}'
kubectl describe raycluster <name>   # Events ì„¹ì…˜ í™•ì¸



---

âœ… RayService (Serve ì•±)

ì •ìƒ (OK)

status.conditions â†’ RayServiceReady=True

status.activeServiceStatus.rayClusterStatus ì •ìƒ

status.numServeEndpoints > 0


ë¹„ì •ìƒ (NOK)

RayServiceReady=False/Unknown

pendingServiceStatusê°€ ì˜¤ë˜ ìœ ì§€ë¨

ì›Œì»¤ í”„ë¡œë¸Œ ì‹¤íŒ¨ (/-/healthz)


í™•ì¸ ëª…ë ¹

kubectl get rayservice <name> -o jsonpath='{.status.conditions}'
kubectl get rayservice               # ì»¬ëŸ¼: service status, num serve endpoints



---

âœ… RayJob

ì •ìƒ (OK)

status.jobDeploymentStatus == "Complete"

status.jobStatus == "SUCCEEDED"


ë¹„ì •ìƒ (NOK)

jobDeploymentStatus == "Failed"

jobStatus == "FAILED"

(ë‘˜ ë‹¤ í™•ì¸ í•„ìˆ˜, ë¶ˆì¼ì¹˜ ì´ìŠˆ ì‚¬ë¡€ ì¡´ì¬)


í™•ì¸ ëª…ë ¹

kubectl get rayjob <name> -o jsonpath='{.status.jobDeploymentStatus}{" "}{.status.jobStatus}{" "}{.status.reason}{" "}{.status.message}'



---

ê³µí†µ ì²´í¬ë¦¬ìŠ¤íŠ¸

1) Conditions ìš”ì•½ ë³´ê¸°

# Cluster
kubectl get raycluster <name> -o jsonpath='{range .status.conditions[*]}{.type}={.status} ({.reason})\n{end}'

# Service
kubectl get rayservice <name> -o jsonpath='{range .status.conditions[*]}{.type}={.status} ({.reason})\n{end}'

# Job
kubectl get rayjob <name> -o jsonpath='{range .status.conditions[*]}{.type}={.status} ({.reason})\n{end}'

2) OK íŒì • ê¸°ëŒ€ê°’

# RayCluster â†’ HeadPodReady=True, RayClusterProvisioned=True
# RayService â†’ RayServiceReady=True + numServeEndpoints > 0
# RayJob     â†’ "Complete SUCCEEDED"

3) ì´ë²¤íŠ¸ í™•ì¸ (ì›ì¸ íŒŒì•…)

kubectl describe raycluster/<name> | sed -n '/Events:/,$p'
kubectl describe rayservice/<name> | sed -n '/Events:/,$p'
kubectl describe rayjob/<name>     | sed -n '/Events:/,$p'


---

ğŸ“Œ ìš”ì•½ ì›ì¹™

Conditionsë¥¼ 1ì°¨ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ”ë‹¤.

ë ˆê±°ì‹œ í•„ë“œ(state, serviceStatus)ëŠ” ì°¸ê³ ìš©ë§Œ.

ì• ë§¤í•˜ë©´ CR status â†’ ì´ë²¤íŠ¸ â†’ íŒŒë“œ ë¡œê·¸/ëŒ€ì‹œë³´ë“œ ìˆœìœ¼ë¡œ ì§„ë‹¨í•œë‹¤. '''


